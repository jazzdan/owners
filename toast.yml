image: ubuntu
tasks:
  install_gcc_9:
    command: |
      add-apt-repository ppa:ubuntu-toolchain-r/test
      apt-get update
      apt-get install --yes gcc-9 g++-9
      update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 60 --slave /usr/bin/g++ g++ /usr/bin/g++-9
  build:
    dependencies:
      - install_gcc_9
    input_paths:
      - main.cpp
    output_paths:
      - a.out
    command: g++ -std=c++17 main.cpp